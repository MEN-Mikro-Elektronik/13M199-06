<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>MEN - M199 MDIS Driver - Main Page</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Language" content="en, english">
<meta name="Copyright" content="All material copyright MEN Mikro Elektronik GmbH">
<link href="men_stylesheet.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class="left_to_right" style="padding-top: 6px; background-color: #F0F0F0; height: 110px; border-bottom: 2px solid #D1D1D2;">
	<!-- Titel -->
	<img src="menlogo.gif" alt="MEN" style="float: left; height: 103px; width: 155px; margin: 0px;">
	<h1 style="margin: 0px; padding-top: 35px; padding-bottom: 0px;">M199 MDIS Driver &nbsp; </h1>
	<h3>Main Page</h3>
</div>

<div class="left_to_right">
<!-- Hauptteil -->
	<div class="main">
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindexHL" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>M199 MDIS Driver Documentation</h1>
<p>
This is the documentation of the MDIS low-level driver for the M199 module.<p>
The M-Module M199 is a very flexible module that gets its specific functions through the IP cores implemented inside its on-board FPGA. This MDIS low-level driver can be used to set or clear the onboard light emitting diodes or read and write the SDRAM. The driver can be used to read or write the Universal Submodules EEPROM. Furthermore the header of the flash could be read. Attention: The driver requires an MDIS system package that also supports the USM functionality.<p>
<br>
 <h2><a name="Variants"></a>
Variants</h2>
The M199 is an A08/A24/D16/D32 M-Module. It can be operated on all M-Module carrier boards. In order to support different CPU/carrier board combinations and to achieve maximum performance, the M199 driver can be built in some variants at compilation time:<p>
<div class="fragment"><pre>    Driver              Variant Description
    --------            --------------------------------
    Standard            A08 address mode, non-swapped
    _sw                 A08 address mode, swapped
    _a24                A24 address mode, non-swapped
    _a24_sw             A24 address mode, swapped
</pre></div><p>
Here are some combinations of MEN CPU and carrier boards together with the required variants:<p>
<div class="fragment"><pre>    CPU                    Carrier Board          Driver Variant
    ----------------       -------------          --------------
    MEN A15 (MPC VME)      A203N (VME64)           Standard or _a24
    MEN A15 (MPC VME)      A015B                   _sw or _a24_sw
    MEN A15 (MPC VME)      A201  (VME64)           Standard
    MEN F14 (Pentium CPCI) F205 (CPCI Carrier)     Standard or _a24
</pre></div><p>
<br>
 <h2><a name="FuncDesc"></a>
Functional Description</h2>
<br>
 <h3><a name="reading"></a>
Reading and Writing Data</h3>
The driver supports reading and writing data from and to the SDRAM with the Getstat and Setstat code M199_BLK_SDRAM. The Universal Submodule can be read or written with the Getstat and Setstat code M199_BLK_USM_MODULE. The driver supports reading the fpga header at the flash with the Getstat code M199_BLK_FPGA_HEADER.<p>
<br>
 <h3><a name="led"></a>
LED switching</h3>
The driver can set or clear the onboard LEDs. The seven light emitting diodes are active low and can be activated or cleared via the M199_LED SetStat code and the state of the light emitting diodes can be received through the GetStat M199_LED code.<p>
<br>
 <h2><a name="interrupts"></a>
Interrupts</h2>
The driver does not support interrupts from the M-Module.<p>
<br>
 <h2><a name="signals"></a>
Signals</h2>
The driver does not support signals. <br>
<p>
<br>
 <h2><a name="id_prom"></a>
ID PROM</h2>
The M-Module's ID PROM can be checked for validity before the device is initialized. You can set the ID_CHECK option in the device descriptor.<p>
<br>
 <h2><a name="api_functions"></a>
Supported API Functions</h2>
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b>API function</b> </td><td><b>Functionality</b> </td><td><b>Corresponding low level function</b><p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="mdis_api.tag:../../../../../LIBSRC/MDIS_API/DOC/html/" href="../../../../../LIBSRC/MDIS_API/DOC/html/mdis__api_8c.html#a4">M_open()</a></td><td>Open device</td><td><a class="el" href="m199__drv_8c.html#a24">M199_Init()</a><p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="mdis_api.tag:../../../../../LIBSRC/MDIS_API/DOC/html/" href="../../../../../LIBSRC/MDIS_API/DOC/html/mdis__api_8c.html#a9">M_close()</a> </td><td>Close device  </td><td><a class="el" href="m199__drv_8c.html#a25">M199_Exit()</a>) </td></tr>
<tr>
<td><a class="elRef" doxygen="mdis_api.tag:../../../../../LIBSRC/MDIS_API/DOC/html/" href="../../../../../LIBSRC/MDIS_API/DOC/html/mdis__api_8c.html#a10">M_read()</a> </td><td>Read from device  </td><td><a class="el" href="m199__drv_8c.html#a26">M199_Read()</a> </td></tr>
<tr>
<td><a class="elRef" doxygen="mdis_api.tag:../../../../../LIBSRC/MDIS_API/DOC/html/" href="../../../../../LIBSRC/MDIS_API/DOC/html/mdis__api_8c.html#a11">M_write()</a> </td><td>Write to device  </td><td><a class="el" href="m199__drv_8c.html#a27">M199_Write()</a> </td></tr>
<tr>
<td><a class="elRef" doxygen="mdis_api.tag:../../../../../LIBSRC/MDIS_API/DOC/html/" href="../../../../../LIBSRC/MDIS_API/DOC/html/mdis__api_8c.html#a13">M_setstat()</a> </td><td>Set device parameter  </td><td><a class="el" href="m199__drv_8c.html#a28">M199_SetStat()</a> </td></tr>
<tr>
<td><a class="elRef" doxygen="mdis_api.tag:../../../../../LIBSRC/MDIS_API/DOC/html/" href="../../../../../LIBSRC/MDIS_API/DOC/html/mdis__api_8c.html#a12">M_getstat()</a> </td><td>Get device parameter  </td><td><a class="el" href="m199__drv_8c.html#a29">M199_GetStat()</a> </td></tr>
<tr>
<td><a class="elRef" doxygen="mdis_api.tag:../../../../../LIBSRC/MDIS_API/DOC/html/" href="../../../../../LIBSRC/MDIS_API/DOC/html/mdis__api_8c.html#a14">M_getblock()</a> </td><td>Block read from device  </td><td><a class="el" href="m199__drv_8c.html#a30">M199_BlockRead()</a> </td></tr>
<tr>
<td><a class="elRef" doxygen="mdis_api.tag:../../../../../LIBSRC/MDIS_API/DOC/html/" href="../../../../../LIBSRC/MDIS_API/DOC/html/mdis__api_8c.html#a15">M_setblock()</a> </td><td>Block write from device  </td><td><a class="el" href="m199__drv_8c.html#a31">M199_BlockWrite()</a> </td></tr>
<tr>
<td><a class="elRef" doxygen="mdis_api.tag:../../../../../LIBSRC/MDIS_API/DOC/html/" href="../../../../../LIBSRC/MDIS_API/DOC/html/m__errstr_8c.html#a1">M_errstringTs()</a> </td><td>Generate error message  </td><td>- </td></tr>
</table>
<p>
<br>
 <h2><a name="descriptor_entries"></a>
Descriptor Entries</h2>
The low-level driver initialization routine decodes the following entries ("keys") in addition to the general descriptor keys:<p>
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b>Descriptor entry</b> </td><td><b>Description</b> </td><td><b>Values</b>  </td></tr>
<tr>
<td>ID_CHECK </td><td>ID_CHECK = U_INT32 0 </td><td>0..1, default: 1  </td></tr>
<tr>
<td>LED </td><td>LED = U_INT32 127 </td><td>0..127, default: 127  </td></tr>
</table>
<p>
<br>
 <h2><a name="codes"></a>
M199 specific Getstat/Setstat codes</h2>
see <a class="el" href="">section about Getstat/Setstat codes</a><p>
<br>
 <h2><a name="programs"></a>
Overview of provided programs</h2>
<h3><a name="m199_simp"></a>
Simple example for using the driver</h3>
<a class="el" href="m199__simp_8c.html">m199_simp.c</a> (see example section) 
	</div>
</div>

<div class="footer">
<!-- Footer -->
	<p class="footer">
	Generated for M199 MDIS Driver using <a href="http://www.doxygen.org">doxygen</a>. All Rights Reserved.
	</p>
</div>

</body>
</html>

